유니코드와 인코딩
-------------

### 유니코드

유니코드는 컴퓨터에서 여러 언어를 지원할 수 있도록 정해놓은 표준입니다. 유니코드 표준은 여러 부분으로 되어있지만 가장 중요하게 알아둬야 할 것은 유니코드 문자 집합입니다. 문자 집합이란 특정한 문자들에 각각 코드 숫자를 부여해놓은 것을 말합니다. 예를 들어 유니코드 문자 집합에서는 대문자 알파벳 'A'에 65, 한글 '가'에 44032가 할당되어 있습니다.

파이썬에서는 이러한 유니코드 문자로 이루어진 데이터를 유니코드 문자열 타입(`unicode`)에 저장합니다. 유니코드 문자열을 코드 상에서 쓸 때는 보통 문자열과 구분하기 위해 앞에 `u`를 붙여서 `u"안녕하세요"`처럼 나타냅니다.

### 문자열 인코딩

문자 집합에 있는 문자를 파일에 저장하거나 다른 컴퓨터로 보내려면 컴퓨터가 다룰 수 있는 바이트 단위로 변환해야 합니다. 이때 사용하는 방식을 문자열 인코딩이라 합니다. 1바이트로는 256가지의 문자만 표현할 수 있기 때문에 유니코드 문자를 인코딩하기 위해서는 특별한 인코딩이 필요합니다. 일반적으로 유니코드 문자열은 UTF-8 인코딩을 사용하여 바이트열로 변환합니다.

파이썬에서 유니코드 문자열을 UTF-8로 인코딩하려면 `encode` 메소드를 사용합니다. 거꾸로 UTF-8 인코딩의 문자열을 유니코드 문자열로 해석하려면 `unicode` 함수를 사용합니다.

	>>> s = u'안녕하세요'.encode('utf-8')
	>>> s
	'\xec\x95\x88\xeb\x85\x95\xed\x95\x98\xec\x84\xb8\xec\x9a\x94'
	>>> print unicode(s, 'utf-8')
	안녕하세요

### 소스 코드의 인코딩

파이썬 실행기는 기본적으로 소스 코드를 인코딩 된 상태 그대로 읽어옵니다. 따라서 한글이 포함되면 소스 코드를 제대로 해석하지 못할 가능성이 있습니다. 그래서 소스 코드의 인코딩이 무엇인지 첫 줄에 다음과 같은 주석을 넣어 알려줘야 합니다.

	# -*- coding: utf-8 -*-
	s = u'안녕하세요'
	...
	
### 조언

* 소스 코드에는 가급적이면 한글을 넣지 마세요. 불가피한 경우 UTF-8 인코딩을 사용하시고 꼭 소스 코드 인코딩을 명시하세요.
* 입출력에도 UTF-8 인코딩을 사용하세요. 데이터 형식을 통제할 수 없는 경우가 아니라면 가장 현명한 선택입니다.
* 내부 표현은 유니코드 문자열을 사용하세요. 외부에서 문자열을 입력받자마자 유니코드 문자열로 변환하고, 내부에서는 유니코드로 처리한 뒤 밖으로 출력하기 직전에 인코딩하는 것이 좋습니다.